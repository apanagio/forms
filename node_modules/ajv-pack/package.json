{
  "name": "ajv-pack",
  "version": "0.2.7",
  "description": "Produces a compact module exporting JSON-schema validation functions compiled by Ajv",
  "main": "index.js",
  "files": [
    "lib/",
    "LICENSE"
  ],
  "scripts": {
    "build": "node scripts/compile-dots.js",
    "eslint": "eslint index.js lib/*.js spec/*.js",
    "test": "npm run eslint && npm run build && npm run test-cov",
    "test-debug": "mocha spec/*.spec.js --debug-brk -R spec",
    "test-spec": "mocha spec/*.spec.js -R spec",
    "test-cov": "istanbul cover -x '**/spec/**' node_modules/mocha/bin/_mocha -- spec/*.spec.js -R spec"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/epoberezkin/ajv-pack.git"
  },
  "keywords": [
    "Ajv",
    "JSON-Schema"
  ],
  "author": {
    "name": "Evgeny Poberezkin"
  },
  "license": "MIT",
  "bugs": {
    "url": "https://github.com/epoberezkin/ajv-pack/issues"
  },
  "homepage": "https://github.com/epoberezkin/ajv-pack#readme",
  "dependencies": {
    "js-beautify": "^1.6.4",
    "require-from-string": "^1.2.0"
  },
  "devDependencies": {
    "ajv": "^4.7.4",
    "ajv-keywords": "^1.1.1",
    "co": "^4.6.0",
    "coveralls": "^2.11.14",
    "dot": "^1.0.3",
    "eslint": "^3.6.0",
    "glob": "^7.1.0",
    "istanbul": "^0.4.5",
    "mocha": "^3.0.2",
    "pre-commit": "^1.1.3"
  },
  "readme": "# ajv-pack\n\nProduces a compact module exporting JSON-schema validation functions compiled by [Ajv](https://github.com/epoberezkin/ajv)\n\n[![Build Status](https://travis-ci.org/epoberezkin/ajv-pack.svg?branch=master)](https://travis-ci.org/epoberezkin/ajv-pack)\n[![npm version](https://badge.fury.io/js/ajv-pack.svg)](https://www.npmjs.com/package/ajv-pack)\n[![Coverage Status](https://coveralls.io/repos/github/epoberezkin/ajv-pack/badge.svg?branch=master)](https://coveralls.io/github/epoberezkin/ajv-pack?branch=master)\n\n\n## Purpose\n\nThis package allows to create standalone modules for validation functions that are pre-compiled and can be used without Ajv. It can be necessary for several reasons:\n\n- to reduce the browser bundle size - Ajv is not included in the bundle (although if you have a large number of schemas the bundle can become bigger - when the total size of generated validation code is bigger than Ajv code).\n- to reduce the startup time - the validation and compilation of schemas will happen during build time.\n- to avoid dynamic code evaluation with Function constructor (used for schema compilation) - it can be prohibited in case [Content Security Policy](http://www.html5rocks.com/en/tutorials/security/content-security-policy/) is used.\n\n__Please note__: there are many cases when Ajv works as expcted and ajv-pack does not. Some of these cases are listed in [Limitations](#limitations). It is recommended to test schemas compiled with this package more thoroughly than you would when using Ajv (which is very stable and well tested). Please submit issues with cases that fail.\n\n\n## Usage with CLI\n\nIn most cases you would use this package via [ajv-cli](https://github.com/jessedc/ajv-cli) (>= 1.0.0) to generate module that exports validation function.\n\n```sh\nnpm install -g ajv-cli\najv -s schema.json -o validate_schema.js\n```\n\n`validate_schema.js` will contain the module exporting validation function that can be bundled into your application.\n\n\n## Usage from code\n\n```sh\nnpm install ajv-pack\n```\n\n```javascript\nvar Ajv = require('ajv'); // version >= 4.7.4\nvar ajv = new Ajv({sourceCode: true}); // this option is required\nvar pack = require('ajv-pack');\n\nvar schema = {\n  type: 'object',\n  properties: {\n    foo: {\n      type: 'string',\n      pattern: '^[a-z]+$'\n    }\n  }\n};\n\nvar validate = ajv.compile(schema);\nvar moduleCode = pack(ajv, validate);\n\n// now you can\n// 1. write module code to file\nvar fs = require('fs');\nvar path = require('path');\nfs.writeFileSync(path.join(__dirname, '/validate.js'), moduleCode);\n\n// 2. require module from string\nvar requireFromString = require('require-from-string');\nvar packedValidate = requireFromString(moduleCode);\n```\n\nAjv should still be a run-time dependency, but generated modules will only depend on some parts of it, the whole Ajv will not be included in the bundle if you require these modules from your code.\n\n\n## Limitations\n\nAt the moment ajv-pack does not support schemas with:\n\n- custom 'compiled' and 'validated' keywords; custom inline and macro keywords are supported.\n- custom formats (they will be ignored during validation).\n- recursive references (reference to the current schema `{ \"$ref\": \"#\" }` is supported).\n- asynchronous schemas (they require custom keywords/formats).\n\n\n## License\n\n[MIT](https://github.com/epoberezkin/ajv-pack/blob/master/LICENSE)\n",
  "readmeFilename": "README.md",
  "_id": "ajv-pack@0.2.7",
  "_from": "ajv-pack@"
}
